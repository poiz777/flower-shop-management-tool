(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e){e.exports=suggestions},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),u=n(2),s=n(3),l=n(5),c=n(4),p=n(6),d=(n(15),n(1)),f=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("span",{className:"pz-drop-down-indicator",onClick:function(t){e.props.showAllSuggestions(t)}},a.a.createElement("div",{className:"pz-arrow-down"}))}}]),t}(r.Component),h=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).inputRefs={dropDown:a.a.createRef(),dropDownOptions:a.a.createRef(),mainValField:a.a.createRef(),pzDropDownWrapper:a.a.createRef()},n.state={dropDownChildren:"",ignoredKeySuffix:d.ignoredKeySuffix,replaceInKeyRx:d.replaceInKeyRx},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(t){e.inputRefs.pzDropDownWrapper.current.contains(t.target)||e.removeSuggestedChildren(t)});var t=d.defaultValue;for(var n in d.suggestions){var r=d.suggestions[n];if("string"===typeof n){if(n.trim()===(t+"").trim()){this.inputRefs.dropDown.current.value=r.trim();break}}else if(parseInt(n)===parseInt(t)){this.inputRefs.dropDown.current.value=r.trim();break}}}},{key:"updateDropDown",value:function(e){e.preventDefault();var t=d.suggestions,n=this.inputRefs.dropDown.current.value,r=new RegExp(n,"gi"),a=[];if(Object.keys(t)&&!t.length)for(var i in a={},t){var o=t[i];r.test(o)&&(a[i]=o.trim())}else t.forEach(function(e){r.test(e)&&a.push(e)});if(a.length<1)return this.inputRefs.dropDown.current.value="",this.inputRefs.mainValField.current.value="",!1;this.renderDropDownChildren(a)}},{key:"updateMainTextFieLdValue",value:function(e){this.inputRefs.dropDown.current.value=e.target.value.trim(),this.inputRefs.mainValField.current.value=e.target.getAttribute("data-value").trim()}},{key:"removeSuggestedChildren",value:function(e){var t=this.inputRefs.dropDownOptions.current,n=t.getAttribute("class");-1!==n.indexOf("pz-show")&&(n=n.replace("pz-show","pz-hide"),t.setAttribute("class",n))}},{key:"handleChildKeyUp",value:function(e){}},{key:"resetToNull",value:function(e){this.inputRefs.mainValField.current.value="",this.inputRefs.dropDown.current.value="",this.removeSuggestedChildren(e)}},{key:"handleChildKeyDown",value:function(e){var t=e.target.parentNode;switch(e.which||e.keyCode){case 9:case 13:e.preventDefault(),this.removeSuggestedChildren(e);break;case 38:t.previousSibling&&t.previousSibling.children[0].focus();break;case 40:t.nextSibling&&t.nextSibling.children[0].focus()}}},{key:"showAllSuggestions",value:function(e){this.renderDropDownChildren(d.suggestions),this.inputRefs.dropDown.current.focus()}},{key:"selectOnTabOrEnter",value:function(e){var n;t.preventTabAndEnterDefaults(e);try{n=this.inputRefs.dropDownOptions.current.children[0].children[0]}catch(e){return this.resetToNull(e),!1}switch(e.which||e.keyCode){case 9:this.inputRefs.dropDown.current.value=n.value,e.target.value=this.inputRefs.dropDown.current.value,this.inputRefs.mainValField.current.value=this.inputRefs.dropDown.current.getAttribute("data-value"),n.focus();break;case 13:break;case 38:case 40:this.inputRefs.dropDown.current.value=n.value,e.target.value=this.inputRefs.dropDown.current.value,this.inputRefs.mainValField.current.value=this.inputRefs.dropDown.current.getAttribute("data-value"),n.focus()}}},{key:"renderDropDownChildren",value:function(e){var t,n,r=this,i=0,o=this.inputRefs.dropDownOptions.current,u=o.getAttribute("class");if(-1!==u.indexOf("pz-hide")&&(u=u.replace("pz-hide","pz-show"),o.setAttribute("class",u)),Object.keys(e)&&!e.length)for(n in t=[],e){var s=e[n].trim()===this.inputRefs.dropDown.current.value||n.trim()===this.inputRefs.mainValField.current.value?" pz-is-selected":"";i++,this.state.ignoredKeySuffix&&new RegExp(this.state.ignoredKeySuffix).test(n.trim())?t.push(a.a.createElement("div",{className:"pz-child-suggestion-box pz-null-action-box",key:"".concat(n.trim(),"-").concat(i)},a.a.createElement("input",{type:"text",readOnly:!0,"data-value":n,className:"pz-suggestion-input".concat(s),onFocus:function(e){r.resetToNull(e)},onClick:function(e){r.resetToNull(e)},value:e[n]}))):t.push(a.a.createElement("div",{className:"pz-child-suggestion-box",key:"".concat(n.trim(),"-").concat(i)},a.a.createElement("input",{type:"text",readOnly:!0,"data-value":n,className:"pz-suggestion-input".concat(s),onFocus:function(e){r.updateMainTextFieLdValue(e)},onClick:function(e){r.removeSuggestedChildren(e)},onKeyUp:function(e){r.handleChildKeyUp(e)},onKeyDown:function(e){r.handleChildKeyDown(e)},value:e[n]})))}else t=e.map(function(e,t){return a.a.createElement("div",{className:"pz-child-suggestion-box",key:t},a.a.createElement("input",{type:"text",readOnly:!0,"data-value":e.trim(),className:"pz-suggestion-input",onFocus:function(e){r.updateMainTextFieLdValue(e)},onClick:function(e){r.removeSuggestedChildren(e)},onKeyUp:function(e){r.handleChildKeyUp(e)},onKeyDown:function(e){r.handleChildKeyDown(e)},value:e.trim()}))});this.setState({dropDownChildren:t})}},{key:"render",value:function(){var e=this,n=d.defaultValue;return Object.keys(d.suggestions)&&!d.suggestions.length&&(n=d.suggestions[d.defaultValue]),a.a.createElement("div",{className:"pz-drop-down-wrapper",ref:this.inputRefs.pzDropDownWrapper},a.a.createElement("div",{className:"pz-drop-down"},a.a.createElement("input",{type:"text",id:d.fieldName,className:d.className,placeholder:d.placeholder,autoComplete:"off",defaultValue:n,ref:this.inputRefs.dropDown,onChange:function(t){e.updateDropDown(t)},onKeyUp:function(t){e.selectOnTabOrEnter(t)},onKeyDown:function(e){t.preventTabAndEnterDefaults(e)}}),a.a.createElement(f,{showAllSuggestions:function(t){return e.showAllSuggestions(t)}}),a.a.createElement("input",{type:"hidden",name:d.fieldName,ref:this.inputRefs.mainValField,defaultValue:d.defaultValue})),a.a.createElement("div",{className:"pz-drop-down-children pz-hide",ref:this.inputRefs.dropDownOptions},this.state.dropDownChildren))}}],[{key:"preventTabAndEnterDefaults",value:function(e){var t=e.which||e.keyCode;9!==t&&13!==t||e.preventDefault()}}]),t}(r.Component),g=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(h,null))}}]),t}(r.Component);o.a.render(a.a.createElement(g,null),document.getElementById(d.appRootID))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.4c1152ee.chunk.js.map
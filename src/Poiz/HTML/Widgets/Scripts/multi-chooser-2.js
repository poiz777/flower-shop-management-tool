(function(e){function t(t){for(var a,o,r=t[0],c=t[1],u=t[2],h=0,p=[];h<r.length;h++)o=r[h],i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},i={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"0a26":function(e){e.exports=multiChooserSuggestions},"118f":function(e,t,s){"use strict";var a=s("ecc6"),i=s.n(a);i.a},"5c0b":function(e,t,s){"use strict";var a=s("5e27"),i=s.n(a);i.a},"5e27":function(e,t,s){},cd49:function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("MultiChooser",{attrs:{config:e.multiChooserConfig,suggestions:e.externalData.suggestions,appRootID:e.externalData.appRootID,fieldName:e.externalData.fieldName,defaultValue:e.externalData.defaultValue,cssClass:e.externalData.cssClass,mainFieldID:e.externalData.mainFieldID,widgetDataKey:e.externalData.widgetDataKey,receiverRef:e.externalData.receiverRef,donorRef:e.externalData.donorRef}})],1)},n=[],o=s("d225"),r=s("308d"),c=s("6bb5"),u=s("4e2b"),l=s("9ab4"),h=s("60a3"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"multiChooser",staticClass:"MultiChooser"},[s("div",{staticClass:"pz-options-receiver"},[e.chosenSuggestions?s("div",{ref:"receiverRef",staticClass:"pz-chosen-options"},[s("div",{staticClass:"pz-absolute-position"},e._l(e.chosenSuggestions,function(t,a){return s("span",{key:a,staticClass:"pz-option-pod",attrs:{"data-value":t}},[s("span",{staticClass:"pz-option-text"},[e._v(e._s(t))]),s("span",{staticClass:"pz-option-icon fa fa-trash",attrs:{"data-value":t},on:{click:e.removeChosenFromReceiver}})])}),0)]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchFilter,expression:"searchFilter"}],staticClass:"pz-multi-options-field",attrs:{type:"text",autocomplete:"off",placeholder:"Type"},domProps:{value:e.searchFilter},on:{focus:e.showMultiChooserOptions,input:[function(t){t.target.composing||(e.searchFilter=t.target.value)},e.filterEnteredTerms],keydown:e.updateInternalDataStore}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.multiOptions,expression:"multiOptions"}],attrs:{type:"hidden",id:e.fieldName,name:e.fieldName},domProps:{value:e.multiOptions},on:{input:function(t){t.target.composing||(e.multiOptions=t.target.value)}}})]),e.filteredSuggestions?s("div",{ref:"pzOptionsDonor",staticClass:"pz-options-donor"},e._l(e.filteredSuggestions,function(t,a){return s("span",{key:a,staticClass:"pz-option-pod",attrs:{"data-value":t},on:{click:e.addChosenToReceiver}},[s("span",{staticClass:"pz-option-text"},[e._v(e._s(t))]),s("span",{staticClass:"pz-option-icon fa fa-angle-up"})])}),0):e._e()])},d=[],f=(s("6b54"),s("6762"),s("2fdb"),s("ac6a"),s("3b2b"),s("b0b4")),g=s("013f"),m=s("f28b"),v=s("f499"),y=s.n(v),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"session",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";Object(o["a"])(this,e),this._adapter=t,this._namespace=s,this._instance=this,this._store={},this._data={},this.init()}return Object(f["a"])(e,[{key:"init",value:function(){return this.bake(),this}},{key:"bake",value:function(){"undefined"!==typeof Storage&&(this.syncStore(),this._store[this._namespace]=void 0===this._store[this._namespace]?{}:this._store[this._namespace],"session"===this._adapter?sessionStorage.setItem(this._namespace,y()(this._store)):"local"===this._adapter&&localStorage.setItem(this._namespace,y()(this._store)))}},{key:"getProp",value:function(e,t,s){return this.syncStore(),s=void 0===s?null:s,void 0!==this._store[this._namespace][e]&&void 0!==this._store[this._namespace][e][t]?this._store[this._namespace][e][t]:s}},{key:"getAll",value:function(e,t){return this.syncStore(),t=void 0===t?{}:t,void 0===this._store[this._namespace][e]?t:this._store[this._namespace][e]}},{key:"setProp",value:function(e,t,s){this.syncStore(),void 0===this._store[this._namespace][e]&&(this._store[this._namespace][e]=this._data),this._store[this._namespace][e][t]=s,this.save()}},{key:"add",value:function(e,t,s){this.setProp(e,t,s)}},{key:"setAdapter",value:function(e){this._adapter=e}},{key:"has",value:function(e,t){return this.syncStore(),void 0!==this._store[this._namespace][e]&&void 0!==this._store[this._namespace][e][t]}},{key:"hasKey",value:function(e){return void 0!==this._store[this._namespace][e]}},{key:"storeHasKey",value:function(e){if("undefined"!==typeof Storage){var t=null;if("session"===this._adapter?t=sessionStorage.getItem(this._namespace):"local"===this._adapter&&(t=localStorage.getItem(this._namespace)),void 0!==t&&t){var s=JSON.parse(t);return s[e]}return!1}return alert("This App will not run very well without Web Storage Support on your Browsers.\nPlease, install a Modern Browser with Web-Storage Support..."),!1}},{key:"syncStore",value:function(){var t=null,s={};"session"===this._adapter?t=sessionStorage.getItem(this._namespace):"local"===this._adapter&&(t=localStorage.getItem(this._namespace)),void 0!==t&&t&&(s=JSON.parse(t)),this._store=e.extend({},this._store,s)}},{key:"save",value:function(){"undefined"!==typeof Storage&&("session"===this._adapter?sessionStorage.setItem(this._namespace,y()(this._store)):"local"===this._adapter&&localStorage.setItem(this._namespace,y()(this._store)))}},{key:"store",get:function(){return this._store},set:function(e){this._store=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"adapter",get:function(){return this._adapter},set:function(e){this._adapter=e}},{key:"namespace",get:function(){return this._namespace},set:function(e){this._namespace=e}},{key:"instance",get:function(){return this._instance},set:function(e){this._instance=e}}],[{key:"extend",value:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(t.length<1)return null;for(var a=1;a<arguments.length;a++)for(var i in arguments[a])arguments[a].hasOwnProperty(i)&&(arguments[0][i]=arguments[a][i]);return arguments[0]}}]),e}(),b=(Object(m["a"])(Object),_),S=h["b"].extend({props:{state:Object,suggestions:Array,appRootID:String,fieldName:String,defaultValue:String,cssClass:String,mainFieldID:String,widgetDataKey:String,receiverRef:String,donorRef:String}}),D=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.suggestions="suggestions"in Object(g["a"])(e)?e["suggestions"]:[],e.widgetDataKey="widgetDataKey"in Object(g["a"])(e)?e["widgetDataKey"]:"values_choices",e.fieldName="fieldName"in Object(g["a"])(e)?e["fieldName"]:"personal_values",e.matches=[],e.chosen=[],e.searchFilter="",e.multiOptions="",e.StoreKey="Widgets",e.storeManager=new b("session","vuex"),e.multiChoiceMatches={matches:[],chosen:[]},e}return Object(u["a"])(t,e),Object(f["a"])(t,[{key:"created",value:function(){this.storeManager=new b("session","vuex"),this.storeManager.has(this.StoreKey,this.widgetDataKey)||this.storeManager.add(this.StoreKey,this.widgetDataKey,{matches:this.suggestions,chosen:[]}),this.updateInternalDataStore()}},{key:"mounted",value:function(){var e=this;document.addEventListener("click",function(t){var s=e.$refs.multiChooser;s&&!s.contains(t.target)&&e.removeSuggestedChildren()})}},{key:"removeSuggestedChildren",value:function(){this.flipMultiChooserDonorBlockVisibility(!1)}},{key:"filterEnteredTerms",value:function(e){e.preventDefault();var t=this.searchFilter,s=new RegExp(t,"iu"),a=[],i=this.storeManager.getProp(this.StoreKey,this.widgetDataKey,{matches:this.matches,chosen:this.chosen}),n=i.matches;if(n.forEach(function(e){s.test(e)&&a.push(e)}),this.matches=a,a.length<1)return this.flipMultiChooserDonorBlockVisibility(!1),!1;this.flipMultiChooserDonorBlockVisibility(!0)}},{key:"addChosenToReceiver",value:function(e){var t=this,s=e.currentTarget,a=s.getAttribute("data-value");this.chosen.includes(a)||this.chosen.push(a),this.matches=this.suggestions.filter(function(e){return-1==t.chosen.indexOf(e)}),this.storeDataToStorage({matches:this.matches,chosen:this.chosen}),this.multiOptions=this.chosen.toString(),this.searchFilter=""}},{key:"removeChosenFromReceiver",value:function(e){var t=this,s=[],a=e.currentTarget,i=a.getAttribute("data-value");this.chosen.forEach(function(e){e!==i?s.push(e):t.matches.includes(e)||t.matches.push(e)}),this.chosen=s,this.multiOptions=this.chosen.toString(),this.storeDataToStorage({matches:this.matches,chosen:this.chosen})}},{key:"storeDataToStorage",value:function(e){this.storeManager.add(this.StoreKey,this.widgetDataKey,e)}},{key:"flipMultiChooserDonorBlockVisibility",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.$refs[this["donorRef"]],s=t.classList;e?s&&!s.contains("pz-flexed")&&t.classList.add("pz-flexed"):s&&s.contains("pz-flexed")&&t.classList.remove("pz-flexed")}},{key:"showMultiChooserDonorBlock",value:function(){var e=this.$refs[this["donorRef"]],t=e.classList;t&&!t.contains("pz-flexed")&&e.classList.add("pz-flexed")}},{key:"showMultiChooserOptions",value:function(){this.showMultiChooserDonorBlock()}},{key:"updateInternalDataStore",value:function(){var e=this.storeManager.getProp(this.StoreKey,this.widgetDataKey,{matches:this.matches,chosen:this.chosen});this.matches=e.matches.length||e.chosen.length?e.matches:this.suggestions,this.matches=e.matches,this.chosen=e.chosen,this.multiOptions=this.chosen.toString()}},{key:"filteredSuggestions",get:function(){return this.matches}},{key:"chosenSuggestions",get:function(){return this.chosen}}]),t}(S);D=l["a"]([Object(h["a"])({components:{}})],D);var k=D,O=k,C=(s("118f"),s("2877")),w=Object(C["a"])(O,p,d,!1,null,"0a6057fe",null),x=w.exports,j=s("0a26"),R=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.externalData=j,e.multiChooserConfig={suggestions:j.suggestions,appRootID:j.appRootID,fieldName:j.fieldName,defaultValue:j.defaultValue,cssClass:j.cssClass,mainFieldID:j.mainFieldID,widgetDataKey:j.widgetDataKey,receiverRef:j.receiverRef,donorRef:j.donorRef},e}return Object(u["a"])(t,e),t}(h["b"]);R=l["a"]([Object(h["a"])({components:{MultiChooser:x}})],R);var M=R,I=M,z=(s("5c0b"),Object(C["a"])(I,i,n,!1,null,null,null)),K=z.exports;a["default"].mixin({data:function(){return{jsonData:j,appLang:"de",get mxm(){return"Mixin Magic imported from main"},get someJunk(){return"I am junk from main..."},smile:function(){return console.log("Smiling from Top-Level App Package...."),"Happily....."}}}});a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(K)}}).$mount("#".concat(j.appRootID))},ecc6:function(e,t,s){}});
// sourceMappingURL=multi-chooser-2.js.map
// app.f716da28.js.map